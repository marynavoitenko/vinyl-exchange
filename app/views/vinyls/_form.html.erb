<%= form_for vinyl do |f| %>
  <% if @vinyl.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@vinyl.errors.count, "error") %> prohibited this post from being saved:</h2>

    <ul>
    <% @vinyl.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
  <% end %>

  <%= f.label "Title" %>
  <%= f.text_field :title %><br><br>

  <%= f.label "Artist (select existing or create new)" %>
  <%= f.collection_select :artist_id, Artist.all, :id, :name, {include_blank: true}  %>
  <%= f.fields_for :artist, vinyl.build_artist do |artist_fields| %>
    <%= artist_fields.label :name, "New Artist Name" %>
    <%= artist_fields.text_field :name %>
  <% end %><br><br>

  <%= f.label "Genre (select existing or create new)" %>
  <%= f.collection_check_boxes :genre_ids, Genre.all, :id, :name %>
  <%= f.fields_for :genres, vinyl.genres.build do |genres_fields| %>
    <%= genres_fields.label :name, "New Genre Name" %>
    <%= genres_fields.text_field :name %>
  <% end %><br><br>

  <%= f.label "Price" %>
  <%= f.text_field :price %><br><br>
  <%= f.label "Inventory" %>
  <%= f.text_field :inventory %><br><br>

  <%= f.submit %>
<% end %>
